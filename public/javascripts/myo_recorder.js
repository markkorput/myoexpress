// Generated by CoffeeScript 1.6.3
(function() {
  this.MyoRecorder = Backbone.Collection.extend({
    model: MyoRecord,
    setup: function(_opts) {
      this.opts = _opts;
      return this.myo_manager = this.opts.myo_manager;
    },
    record: function() {
      var data;
      data = this.myo_manager.getLastMyoData();
      if (data !== {} && (this.length < 1 || data.orientation !== this.last().get('orientation'))) {
        return this.add(this.myo_manager.getLastMyoData());
      }
    },
    autoRecDelay: function() {
      return this.autoRecordDelay || this.opts.autoRecordDelay || 1;
    },
    delayPercentage: function() {
      return (this.t || 0.0) / this.autoRecDelay();
    },
    update: function(dt) {
      this.t = (this.t || 0) + dt;
      if (this.t > this.autoRecDelay()) {
        this.record();
        return this.t = 0;
      }
    }
  });

}).call(this);
