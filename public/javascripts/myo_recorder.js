// Generated by CoffeeScript 1.6.3
(function() {
  this.MyoRecorder = Backbone.Collection.extend({
    model: MyoRecord,
    setup: function(_opts) {
      this.opts = _opts;
      return this.myo_manager = this.opts.myo_manager;
    },
    record: function() {
      var data;
      data = this.myo_manager.getLastMyoData();
      if (data !== {} && (this.length < 1 || data.orientation !== this.last().get('orientation'))) {
        return this.add(this.myo_manager.getLastMyoData());
      }
    },
    autoRecDelay: function() {
      return this.autoRecordDelay || this.opts.autoRecordDelay || 1000;
    },
    autoRecDelayPos: function() {
      var t;
      if (!this.lastAutoRecord) {
        return 1.0;
      }
      t = (new Date()).getTime();
      return (t - this.lastAutoRecord) / this.autoRecDelay();
    },
    update: function() {
      var t;
      t = (new Date()).getTime();
      if (this.autoRecDelayPos() >= 1.0) {
        this.record();
        return this.lastAutoRecord = t;
      }
    }
  });

}).call(this);
